<!-- TODO: move head to partial -->
<html>
	<head>
		<title>PeerTunes</title>
		<link href="./css/bootstrap.min.css" rel="stylesheet">
		<link href="./css/dragula.min.css" rel="stylesheet">
		<link rel="stylesheet" href="./css/jquery.webui-popover.min.css">
		<link href="https://vjs.zencdn.net/5.10.2/video-js.css" rel="stylesheet">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/emojione/2.2.2/assets/css/emojione.min.css"/>

		<link href="./css/style.css" rel="stylesheet">
	</head>
	<body>
		<nav class="navbar navbar-default" role="navigation">
			<div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">PeerTunes</a>
				</div>
				
				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse navbar-ex1-collapse">
					<button type="button" class="btn btn-primary navbar-btn" data-toggle="modal" data-target="#roomModal">Rooms</button>
					<button type="button" class="btn btn-primary navbar-btn" id="btn-create-room">Create Room</button>
					<button type="button" class="btn btn-danger navbar-btn" id="btn-leave-room" style= "display: none;">Leave</button>
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">Settings <b class="caret"></b></a>
							<ul class="dropdown-menu">
								<li><a href="#">User</a></li>
								<li><a href="#">Room</a></li>
							</ul>
						</li>
					</ul>
					</div><!-- /.navbar-collapse -->
				</div>
			</nav>

<div id="welcome">
	<div class="container-fluid">
		<div class="row vertical-align">
			<div class="col-md-4 col-md-offset-4">
				<div class="well">
					<form>
						<legend>PeerTunes</legend>
					
						<div class="form-group">
						    <label for="input-username">Username</label>
						    <input type="text" class="form-control" id="input-username" placeholder="Avicii">
						</div>
						<button type="button" id="btn-login" class="btn btn-primary">Enter</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid">

				<div class="row">
					<div id="sidebar-left">
						<div class="row">
							<div class="col-md-12">
								<div id="my-queue" class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">My Queue</h3>
									</div>
									<div class="panel-body no-padding">
										<ul id="my-queue-list" class="list-group">
										</ul>
									</div>
									<div class="panel-footer">
										<button id="add-song-button" class="btn btn-default btn-block" type="button" data-toggle="modal" data-target="#addSongModal">
											<span class="glyphicon glyphicon-plus"></span> Add New Songs
										</button>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								
								<button type="button" id="btn-join-queue" class="btn btn-primary btn-large btn-block">Join DJ Lineup</button>
							</div>
						</div>
						
					</div>
					<div class="col-md-6 col-md-offset-3">
						<div class="row">
							<div class="col-md-1">
							</div>
							<div class="col-md-10">
								<div id="video-container" class="center-block">
									<div id="video-frame" style="display: none;">
										<video
											id="vid1"
											class="video-js vjs-default-skin"
											width="413" height="231"
											data-setup='{ "techOrder": ["html5","youtube"], "sources": [], "youtube": { "iv_load_policy": 3, "disablekb": 1, "modestbranding": 1, "autoplay": 1 }}'
											>
										</video>
										<audio 
										    id="vid2" 
										    class="video-js vjs-default-skin" 
										    preload="auto"
										    width="413" height="231"
										    data-setup="{ }">
									    </audio>
									</div>
								</div>
							</div>
							<div class="col-md-1">
							</div>
						</div>
						<div class="row">
							<div class="col-md-2"></div>
							<div class="col-md-8">
								<div class="btn-group btn-group-justified" role="group" aria-label="...">
									<div class="btn-group" role="group">
										<button type="button" id="like-button" class="btn btn-success btn-lg"><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span></button>
									</div>
									<div class="btn-group" role="group">
										<button type="button" id="dislike-button" class="btn btn-danger btn-lg"><span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span></button>
									</div>
								</div>
							</div>
							<div class="col-md-2"></div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<div id="moshpit" class="center-block"></div>
							</div>
						</div>
						
					</div>
					<div class="col-md-3 sidebar">
						<div id="chat" class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Chat</h3>
							</div>
							<div class="panel-body no-padding">
								<ul id="chat-list" class="list-group">
									<li class="message list-group-item">
										<h6 class="message-user text-primary">Welcome!</h6>
										<span class="message-text">Click "Rooms" to join a room.</span>
									</li>
								</ul>
							</div>
							<div class="panel-footer">
								<div class="input-group">
									<input type="text" id="chat-text" class="form-control" placeholder="Enter message here...">
									<span class="input-group-btn">
										<button id="chat-enter" class="btn btn-default" type="button">Enter</button>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				
</div>

<div id="bottom-bar">
	<div id="bottom-bar-cover" class="pull-left">
		
	</div>
	<div id="song-details" class="pull-left">
		<h6 id="song-title"></h6>
		<div id="song-progress" class="progress">
  			<div id="song-progress-bar" class="progress-bar progress-bar-default" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
		</div>
	</div>
	<div id="song-progress-text" class="pull-left">
		<strong><span id="song-time-current">00:00</span></strong>
	</div>
	<div id="bottom-bar-volume" class="pull-left vertical-align">
		<span id="volume-button" class="glyphicon glyphicon-volume-up cursor-pointer" aria-hidden="true"></span>
		<input type="range" id="volume-slider" value="100">
	</div>
</div>


<!-- Modals -->
<!-- Rooms Modal -->
			<div class="modal fade" id="roomModal" tabindex="-1" role="dialog" aria-labelledby="roomModal">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Rooms</h4>
						</div>
						<div class="modal-body">
							Room listing here
						</div>
						<div class="modal-footer">
							<button type="button" id="room-refresh" class="btn btn-primary">Refresh</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
<!-- / Rooms Modal -->
<!-- Create Room Modal -->
	<div class="modal fade" id="createRoomModal" tabindex="-1" role="dialog" aria-labelledby="createRoomModal">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Create Room</h4>
				</div>
				<div class="modal-body">
					<form>
						<div id="create-room-form-group" class="form-group">
							<label class="control-label" for="roomNameInput">Room Name</label>
							<input type="text" class="form-control" id="roomNameInput" placeholder="Coding Soundtrack">
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					<button type="button" id="modal-btn-create-room" class="btn btn-primary" data-dismiss="modal">Create</button>
				</div>
			</div>
		</div>
	</div>
<!-- / Create Room Modal -->
<!-- Add Song Modal -->
	<div class="modal fade" id="addSongModal" tabindex="-1" role="dialog" aria-labelledby="addSongModal">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Add Songs</h4>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="input-group">
		                    <input type="text" class="form-control" id="song-search-input" placeholder="Here Comes the Sun...">
		                    <span class="input-group-btn"><button id="song-search-submit-button" class="btn btn-default">Search</button></span>
		                    
		                </div>
					</div>
					<div class="row">
						<div id="song-search-results"></div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
<!-- / Add Song Modal -->

<script id="queueItemTmpl" type="x-tmpl-mustache">
	<li class="list-group-item queue-item"
		data-source="{{ source }}" 
		data-id="{{ id }}" 
		data-title="{{ title }}" 
		data-duration="{{ duration }}">

		<div>{{ title }}</div>
		<small>{{ source }} - {{ prettyDuration }}</small>
		<div class="queue-item-controls">
			<ul class="list-unstyled">
				<li><span class="glyphicon glyphicon-remove song-remove cursor-pointer" aria-hidden="true"></span></li>
				<li><span class="glyphicon glyphicon-menu-up song-top-control cursor-pointer" aria-hidden="true"></span></li>
			</ul>
		</div>
	</li>
</script>

<script id="chatMessageTmpl" type="x-tmpl-mustache">
  	<li class="message list-group-item">
		<h6 class="message-user">{{ id }}:</h6>
		<!-- triple mustache unescapes HTML so image tags can appear -->
		<span class="message-text">{{{ message }}}</span>
	</li>
</script>

<script id="avatarTmpl" type="x-tmpl-mustache">
	<div id="{{ userId }}"class="audience-member" style="left: {{ x }}%; top: {{ y }}%; z-index: {{ z }}">
      <img src="./img/avatars/{{ avatar }}_HeadBack.png" class="audience-head" />
      <img src="./img/avatars/{{ avatar }}_BodyBack.png" class="audience-body" />
  </div>
</script>

<script id="roomRowTmpl" type="x-tmpl-mustache">
	<li class="cursor-pointer">
		<div class="row">
			<div class="col-md-10">
				<h5>{{ title }}</h5>
				<span>Hosted by {{ id }}</span>
			</div>
			<div class="col-md-2">
				<button id="join-room-{{ id }}" type="button" class="btn btn-default btn-join-room">Join Room</button>
			</div>
		</div>
		
	</li>

</script>

<script id="popoverTmpl" type="x-tmpl-mustache">
	<ul class="dropdown-menu">
		<li><h6 class="text-center">{{ id }}</h6></li>
		{{#menu}}
	    <li role="separator" class="divider"></li>
	    <li class="text-center"><a href="#">Friend Request</a></li>
	    {{/menu}}
  	</ul>
</script>

<script id="songSearchResultTmpl" type="x-tmpl-mustache">
  <a href="#" class="list-group-item song-search-result" data-id="{{ id }}" data-title="{{ title }}" data-duration="{{ duration }}">
    <h5 class="list-group-item-heading">{{ title }}</h5>
    <div id="song-search-result-right"><span class="glyphicon glyphicon-plus"></span></div>
  </a>
</script>

			<!-- Scripts -->
			<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
			<script src="./js/moment.min.js"></script>
			<script src="https://vjs.zencdn.net/5.10/video.js"></script>
			<script src="./js/Youtube.min.js"></script>
			<script src="./js/dragula.min.js"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
			<script src="./js/jquery.webui-popover.min.js"></script>
			<script src="https://cdn.jsdelivr.net/emojione/2.2.2/lib/js/emojione.min.js"></script>

			<script src="./js/app.js"></script>
		</body>
	</html>